{"data":{"site":{"siteMetadata":{"title":"Stephen Quick","author":"Stephen Quick"}},"markdownRemark":{"id":"e32a058a-ed1b-532e-8435-2fbb9f9a63c0","html":"<blockquote>\n<h2>Update 1/5/15:</h2>\n<p>Fixed a typo, it should be:\n<code class=\"language-text\">sudo cp /usr/local/opt/nginx/*.plist /Library/LaunchDaemons</code></p>\n</blockquote>\n<p>Also added chown for file, in case it doesn’t have proper permissions.</p>\n<p>For the longest time I couldn’t get the piece to work, but I finally figured it out using launchctl as a somewhat basis for troubleshooting. I used homebrew to install nginx which is easier and works for the most part. First the instructions on how to install nginx using homebrew:\nbrew update &#x26;&#x26; brew install nginx\nNext what you want to do is have launchctl start nginx automatically for you. You can do this in several ways, but I’ll cover two:</p>\n<h2>Option 1 - Symbolic link</h2>\n<p>For this option you will symbolic link the .plist file included with nginx to have launchctl launch nginx using the proper permissions. Then use launchctl to list the resulting loaded file.</p>\n<p>The link you’ll need to use is something along these lines:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\">\n      <pre class=\"language-text\"><code class=\"language-text\">sudo ln -sfv /usr/local/opt/nginx/*.plist /Library/LaunchDaemons</code></pre>\n      </div>\n<p>Homebrew places a symbolic link of the nginx folder inside opt making it easier for symbolic links, at least in my opinion anyways. The reasoning to remember for this is:</p>\n<h2>Option 2 - Just copy it to the folder</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\">\n      <pre class=\"language-text\"><code class=\"language-text\">sudo cp /usr/local/opt/nginx/*.plist /Library/LaunchDaemons</code></pre>\n      </div>\n<h4>Bonus - Ensure proper file permissions:</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\">\n      <pre class=\"language-text\"><code class=\"language-text\">sudo chown root:wheel /Library/LaunchDaemons/homebrew.mxcl.nginx.plist - Credit to &lt;a href=&quot;http://localhost:4000/blog/2014/04/28/start-nginx-at-launch-on-mavericks/#comment-1767708094&quot;&gt;Burak&lt;/a&gt;</code></pre>\n      </div>\n<p>The reasoning behind this:</p>\n<ol>\n<li>/Library is the system Library folder, rather than the user ~/Library folder. It’s used because it needs system access, and it’s easier for all users to access it.</li>\n<li>Sudo is used because nginx needs root permissions. Especially if you opt to change the default port from 8080 to 80.</li>\n</ol>\n<p>Next what you want to do is have launchctl load the file for you automatically:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\">\n      <pre class=\"language-text\"><code class=\"language-text\">sudo launchctl load -w /Library/LaunchDaemons/homebrew.mxcl.nginx.plist</code></pre>\n      </div>\n<ol>\n<li>You need sudo for this since it’s in the system Library.</li>\n<li>You need to use the -w option, otherwise it won’t load.</li>\n</ol>\n<p>To troubleshoot the file loading use this:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\">\n      <pre class=\"language-text\"><code class=\"language-text\">sudo launchctl list | grep &#39;homebrew&#39;</code></pre>\n      </div>\n<p>You should get a list that shows homebrew.mxcl.nginx</p>\n<p>If all else fails:</p>\n<h2>Option 3 - Just load it when you need it</h2>\n<p>If you don’t care about automatic use the normal commands for it:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\">\n      <pre class=\"language-text\"><code class=\"language-text\">sudo nginx -s stop - Stop Nginx\nsudo nginx - Start Nginx\nsudo nginx -s reload - Reload Nginx</code></pre>\n      </div>\n<p>This actually took me a bit to figure out, so I decided to make a post for future reference.</p>","frontmatter":{"title":"Start nginx at launch on Mavericks Mac OS","date":"April 28, 2014"}}},"pageContext":{"slug":"/start-nginx-at-launch-on-mavericks/","previous":{"fields":{"slug":"/homebrew-and-php-5-dot-5-11/"},"frontmatter":{"title":"Homebrew and PHP 5.5.11 snag"}},"next":{"fields":{"slug":"/adding-upstream/"},"frontmatter":{"title":"Fetching Upstream changes"}}}}