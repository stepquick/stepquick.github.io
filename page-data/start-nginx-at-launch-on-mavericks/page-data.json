{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/start-nginx-at-launch-on-mavericks/",
    "result": {"data":{"site":{"siteMetadata":{"title":"Stephen Quick"}},"markdownRemark":{"id":"69445946-75d9-5f70-925b-2578c8f1f28c","excerpt":"For the longest time I couldn’t get the piece to work, but I finally figured it out using launchctl as a somewhat basis for troubleshooting. I used homebrew to…","html":"<p>For the longest time I couldn’t get the piece to work, but I finally figured it out using launchctl as a somewhat basis for troubleshooting. I used homebrew to install nginx which is easier and works for the most part. First the instructions on how to install nginx using homebrew:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">brew update &amp;&amp; brew install nginx</code></pre></div>\n<p>Next what you want to do is have launchctl start nginx automatically for you. You can do this in several ways, but I’ll cover two:</p>\n<p>##Option 1 - Symbolic link</p>\n<p>For this option you will symbolic link the .plist file included with nginx to have launchctl launch nginx using the proper permissions. Then use launchctl to list the resulting loaded file</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo ln -sfv /usr/local/opt/nginx/*.plist /Library/LaunchDaemons</code></pre></div>\n<p>Homebrew places a symbolic link of the nginx folder inside opt making it easier for symbolic links, at least in my opinion anyways. The reasoning to remember for this is:</p>\n<p>##Option 2 - Just copy it to the folder</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo cp /usr/local/opt/nginx/*.plist /Library/LaunchDaemons</code></pre></div>\n<p>####Bonus - Ensure proper file permissions:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo chown root:wheel /Library/LaunchDaemons/homebrew.mxcl.nginx.plist - Credit to &lt;a href=\"http://localhost:4000/blog/2014/04/28/start-nginx-at-launch-on-mavericks/#comment-1767708094\">Burak&lt;/a></code></pre></div>\n<p>The reasoning behind this:</p>\n<ol>\n<li><code class=\"language-text\">/Library</code> is the system Library folder, rather than the user <code class=\"language-text\">~/Library</code> folder. It’s used because it needs system access, and it’s easier for all users to access it.</li>\n<li>Sudo is used because nginx needs root permissions. Especially if you opt to change the default port from 8080 to 80.</li>\n</ol>\n<p>Next what you want to do is have launchctl load the file for you automatically:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo launchctl load -w /Library/LaunchDaemons/homebrew.mxcl.nginx.plist</code></pre></div>\n<ol>\n<li>You need sudo for this since it’s in the system Library.</li>\n<li>You need to use the <code class=\"language-text\">-w</code> option, otherwise it won’t load.</li>\n</ol>\n<p>To troubleshoot the file loading use this:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo launchctl list | grep 'homebrew'</code></pre></div>\n<p>You should get a list that shows homebrew.mxcl.nginx</p>\n<p>##Option 3 - Just load it when you need it</p>\n<p>If you don’t care about automatic use the normal commands for it:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo nginx -s stop\r\nsudo nginx\r\nsudo nginx -s reload</code></pre></div>\n<p>This actually took me a bit to figure out, so I decided to make a post for future reference.</p>","frontmatter":{"title":"Start nginx at launch on Mavericks Mac OS","date":"April 28, 2014","description":null}},"previous":{"fields":{"slug":"/homebrew-and-php-5-dot-5-11/"},"frontmatter":{"title":"Homebrew and PHP 5.5.11 snag"}},"next":{"fields":{"slug":"/adding-upstream/"},"frontmatter":{"title":"Fetching Upstream changes"}}},"pageContext":{"id":"69445946-75d9-5f70-925b-2578c8f1f28c","previousPostId":"f7988508-06cc-5d66-8b12-8b4c8f536319","nextPostId":"02d58955-7180-5afe-afb7-841f13b96ece"}},
    "staticQueryHashes": ["3000541721","3274528899"]}