<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.141a53b9a3066544d50d.css">code[class*=language-],pre[class*=language-]{color:#657b83;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:#073642}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:#fdf6e3}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#93a1a1}.token.punctuation{color:#586e75}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#268bd2}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string,.token.url{color:#2aa198}.token.entity{color:#657b83;background:#eee8d5}.token.atrule,.token.attr-value,.token.keyword{color:#859900}.token.class-name,.token.function{color:#b58900}.token.important,.token.regex,.token.variable{color:#cb4b16}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.gradient-text:active,.gradient-text:focus,.gradient-text:hover{-webkit-background-clip:text;background-image:linear-gradient(124deg,#ff2400,#e81d1d,#e8b71d,#e3e81d,#1de840,#1ddde8,#2b1de8,#dd00f3,#dd00f3);-webkit-text-fill-color:transparent;-webkit-animation:rainbow 8s ease infinite;background-size:1000% 1000%;-z-animation:rainbow 8s ease infinite;animation:rainbow 8s ease infinite}@-webkit-keyframes rainbow{0%{background-position:0 82%}50%{background-position:100% 19%}to{background-position:0 82%}}@keyframes rainbow{0%{background-position:0 82%}50%{background-position:100% 19%}to{background-position:0 82%}}.job-description ul,ol,ul{list-style-position:inside}.job-description ul li{margin-bottom:.25em}.job-description p,.job-description ul li{font-size:.9em}.job-location{margin-bottom:.75em;display:flex;justify-content:space-between}</style><meta name="generator" content="Gatsby 2.18.22"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="icon" href="/icons/icon-48x48.png?v=7f7f232669c46208abd1d91ddee148a0"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=7f7f232669c46208abd1d91ddee148a0"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=7f7f232669c46208abd1d91ddee148a0"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=7f7f232669c46208abd1d91ddee148a0"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=7f7f232669c46208abd1d91ddee148a0"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=7f7f232669c46208abd1d91ddee148a0"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=7f7f232669c46208abd1d91ddee148a0"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=7f7f232669c46208abd1d91ddee148a0"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=7f7f232669c46208abd1d91ddee148a0"/><title data-react-helmet="true">Notifications Using Gulp-Notify on Vagrant with Terminal-Notifier | Stephen Quick</title><meta data-react-helmet="true" name="description" content="Update: 3/3/2015: I can confirm that this does in fact work with homestead and elixir. However, I notice that the server hangs at provisioning on terminal. It…"/><meta data-react-helmet="true" property="og:title" content="Notifications Using Gulp-Notify on Vagrant with Terminal-Notifier"/><meta data-react-helmet="true" property="og:description" content="Update: 3/3/2015: I can confirm that this does in fact work with homestead and elixir. However, I notice that the server hangs at provisioning on terminal. It…"/><meta data-react-helmet="true" property="og:type" content="website"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-d4059a3b2657381c83a6.js"/><link as="script" rel="preload" href="/commons-366571784ba07147dd91.js"/><link as="script" rel="preload" href="/app-c98a172a9f0d7b63e0e1.js"/><link as="script" rel="preload" href="/styles-3ad1f256f59ff56f4ea3.js"/><link as="script" rel="preload" href="/webpack-runtime-7bc9183ab7d5fa99f2b6.js"/><link as="fetch" rel="preload" href="/page-data\use-gulp-notify-with-terminal-notifier\page-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div style="margin-left:auto;margin-right:auto;max-width:45rem;padding:2.25rem 1.125rem"><header><h3 style="font-family:Montserrat, sans-serif;margin-top:0"><a style="box-shadow:none;text-decoration:none;color:inherit" class="gradient-text" href="/">Stephen Quick</a></h3></header><main><h1>Notifications Using Gulp-Notify on Vagrant with Terminal-Notifier</h1><p style="font-size:0.85028rem;line-height:1.5rem;display:block;margin-bottom:1.5rem;margin-top:-1.5rem">September 08, 2014</p><div><blockquote>
<h2>Update: 3/3/2015:</h2>
<p>I can confirm that this does in fact work with homestead and elixir. However, I notice that the server hangs at provisioning on terminal. It doesn’t freeze, it continues to load, but it is one little weirdness that I’ve found.</p>
</blockquote>
<p>I’ve been looking using grunt/gulp for automation of my different tasks, such as css/js minification, and image manipulations so when I found out about automating tests for phpunit, I decided to give a try.</p>
<p>Note: I haven’t really seen anything relating to this other than <a href="http://jpbetley.com/vagrant-gulp-notifications/">this</a>, but I couldn’t quite get it to work using his bash script, so I ended up a making a few adjustments to his.</p>
<p>I develop using a Vagrant VM, so while installing most of this stuff on the host machine will work fine, I want it to be mostly kept to the VM. The tests are also running against the VM’s databases, not the local machine, so it makes more sense to keep dev separate from the Host Mac OSX.</p>
<h4>1. Install terminal-notifier</h4>
<p>I used homebrew, so I just ran update and installed terminal-notifier:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">brew update &amp;&amp; brew install terminal-notifier</code></pre></div>
<p>This added terminal-notifier to my applications folder, it also linked the app to my $PATH, which allows me to call it from the terminal.</p>
<h4>2. Install Vagrant-Notify</h4>
<p>I will be using terminal-notifier for this, since it’s the stock notification app for Mac. This piece was a bit weird when initially installing. It worked best for me when I installed the plugin with the Vagrant vm off, it will give me an error about ruby running if the machine was already running. Killing the rogue ruby task with activity monitor would fix this as well.</p>
<p>From inside the folder with your Vagrant:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">vagrant plugin install vagrant-notify</code></pre></div>
<p>This piece will require another file called <code class="language-text">notify-send</code>, preferably saved in <code class="language-text">usr\local\bin</code></p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">terminal-notifier -appIcon &quot;$2&quot; -title &quot;$4&quot; -message &quot;$5&quot;</code></pre></div>
<p>Make sure this file has no extension and is executable:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">sudo chmod +x /usr/local/bin/notify-send</code></pre></div>
<p>This is the part where I couldn’t quite get it to work like in the tutorial I included, so I ended up moving around the numbers that were being submitted to the script from gulp. These are the numbers that worked for me, YMMV. I believe the gulp-notify sends more by default now.</p>
<h4>3. Install Gulp, and dependencies</h4>
<p>Used NPM for this on my Vagrant VM, since this is where gulp will be called:</p>
<p>  npm install gulp —save-dev
npm install gulp-notify —save-dev
npm install gulp-phpunit —save-dev</p>
<h4>4. Create Gulp File</h4>
<p>I gathered this from a couple of different gulp.js files.</p>
<p>Note: Can be edited from host or guest machine, since in my case the gulp file will be at the base of my project folder.</p>
<blockquote>
<p>07/16/2018: I lost the link to this gist, so it’s removed.</p>
</blockquote>
<h4>5. Check that it works</h4>
<p>You can run <code class="language-text">gulp</code>, or you can use <code class="language-text">gulp test</code></p>
<p>Which should return a notification of some sort. This will likely not be the best way to address phpunit tests, especially since currently there are only 3 tests. That’s not a lot, but if the project was much bigger, say 30-40 tests, I can see this being a dumb idea. I’ll likely not use this for larger projects, or at least implement a count that only runs the tests every so often.</p>
<h2>Troubleshooting</h2>
<p>The difficult part about this was getting the script to return the proper notifications. It initially wouldn’t give the message, and instead was using the default img that is included with the script. I ended up moving the numbers around and that seemed to address the issue.</p></div><hr style="margin-bottom:1.5rem"/><div style="display:flex;margin-bottom:3.75rem"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:50px;height:50px;margin-right:0.75rem;margin-bottom:0;min-width:50px;border-radius:100%"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAEJUlEQVQ4y4WU+VOVZRTH+S+aWAIELouQLLmMMyZDOWmBAzaO2QLjZbEby4ULCWksKTppmIbs2wUuAiEoSLGDbJfLVtIvOjWT4zjVxKChoCyGfTrvy2BglD88M+/zzHs+z/ec7zmPletQAs8ut8F4XMaT0Azo8TW+z86MIAKS32Db6WDcOqNxvn5E/cfV/O9Yq3Vh33+MT0ME+4J8CfdxIsrLkShPByJkvfO6J1uz9+Ms/7gpMeb/AboNCExu9zGFsfdlew64WKPdqiHG35O4AC90r25Et0WD1sMO/6O71YvVOPM6QEWZksqmhnCC/Rwpi95PVUooUTs8edd3A6GbnQmTdWibK3G7/Djg+AK7Yv1x+W4ZuqLUamWjGUlk07c69mx35kLYWzBew1/mSn5v+or+80l0nYnHkpvCT1Unud9ewJXjh/lAY0vAJ7vRjCauBarqJpLZkRFImOtL/Pj1af7sL2ems5DFPiMMmcBSxdKAUc6NLPSWwmg157SBhHja4n31MJqxJBX6FKjU7pW8A2h9XLjdcFYFzQrwYVfR8uou5l5bNjMd+TzoKFDVN6ZGstfXXs1sWWX8KqAUeHNlGCEaG3olRcZqeCJBSwMVzF8rYa6nhNnuAtmXq+eM11IYFUKQlMhDzHS1GFbXMB6N9J23tMqbHraYs5O5XfcFTemR3KzMVBUqaf7Rmsd4wTEuH9Nyq+4MFR++zWv7vHFVjFlTQ9m4jCXiVx+JNsCbXy9/yURJKu0no6n/NJx7Lbk87isTQzLFHD29ZxO4Kd+Dp+LwP7gZjQDdRNRToLsA7UYS0OdE0pmuY1pqhMXEUE4KxoSDMHyR6ZYcFnsKMRre43pxmlqSG6ZMciOC2XM1FofRZWEq0EOWzbCehIpYpmqzeCTpKTVTUp1uy2e+t4xZMWO2PV/U5okxivtl3G3Lo/NEDIFNcdivBioKN4wY2Nkcww9FaWJCKY96lo1YEJhSP+VsQcxZlL1yPqcY1VFEU3YSG7ti0Awb/gGq0CEDdkN6Es+Fs9RezCMlQCDTLRekuc+rzfxLQ5aaugJclJ6crMkiNPcQDmMGVdTa0VNUijHb66KYasxmQVJSgErL/HblHBOl6fxc+znzAlPU019B98UM7FqjcB9Nemb0VqDDiTh1fYT50ik1YFpqNvnNBYFlYBaDbkgLTTZn86C7CHqMZNYkYW3RiweG9V8bxRxrSxxptdLYPeVMiRF3pWVuySiO5R7hTn0Wd2SKZgR4vzkH/0YdjiP/8dqspK0Rc9zbdPRXHxeVJub6JXXV9WLmpQyPZVLoLCPTZMB2MBYPi+E5D6wsJ4F6yXyaKo/ypFXS6xPIgIxbXwUPWwv47FIyDtei1RI998VeUeo8asCmW4fWJNNSnUpv7Qlq5YKgZj0vDsUJzMB6sX8DvcoT3e+5wTEAAAAASUVORK5CYII=" alt="Stephen Quick" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms;border-radius:50%"/><noscript><picture><source srcset="/static/394a5a3ed87990790d3bb36a3628dd1e/000d3/profile-pic.png 1x,
/static/394a5a3ed87990790d3bb36a3628dd1e/bc2a0/profile-pic.png 1.5x,
/static/394a5a3ed87990790d3bb36a3628dd1e/89cf4/profile-pic.png 2x" /><img loading="lazy" width="50" height="50" srcset="/static/394a5a3ed87990790d3bb36a3628dd1e/000d3/profile-pic.png 1x,
/static/394a5a3ed87990790d3bb36a3628dd1e/bc2a0/profile-pic.png 1.5x,
/static/394a5a3ed87990790d3bb36a3628dd1e/89cf4/profile-pic.png 2x" src="/static/394a5a3ed87990790d3bb36a3628dd1e/000d3/profile-pic.png" alt="Stephen Quick" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><p>Written by <strong>Stephen Quick</strong>, a software developer based in Houston, Texas.<br/><a href="/resume">Resume.</a></p></div><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/force-regeneration-on-jekyll-watch/">← <!-- -->Force regeneration on jekyll watch</a></li><li><a rel="next" href="/use-varnish-with-nginx-and-ubuntu/">Use Varnish with Nginx and Ubuntu<!-- --> →</a></li></ul></main><footer>© Copyright 2012 - <!-- -->2020<!-- -->, Stephen Quick</footer></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/use-gulp-notify-with-terminal-notifier/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-c98a172a9f0d7b63e0e1.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-cf2fd0f92da7499f18b1.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-d4059a3b2657381c83a6.js"],"component---src-pages-404-js":["/component---src-pages-404-js-e1efb220c0f247a15313.js"],"component---src-pages-index-js":["/component---src-pages-index-js-d065ee44e6a0644643b6.js"],"component---src-pages-resume-js":["/component---src-pages-resume-js-78d18bc80c1ff411649a.js"]};/*]]>*/</script><script src="/webpack-runtime-7bc9183ab7d5fa99f2b6.js" async=""></script><script src="/styles-3ad1f256f59ff56f4ea3.js" async=""></script><script src="/app-c98a172a9f0d7b63e0e1.js" async=""></script><script src="/commons-366571784ba07147dd91.js" async=""></script><script src="/component---src-templates-blog-post-js-d4059a3b2657381c83a6.js" async=""></script></body></html>